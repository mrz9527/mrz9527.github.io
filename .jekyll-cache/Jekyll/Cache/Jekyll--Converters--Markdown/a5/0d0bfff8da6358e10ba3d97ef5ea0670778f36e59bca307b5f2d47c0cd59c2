I"àŠ<p>DDL:	Data Definition Language
DML:	Data Manipulation Language
DQLï¼šData Query Language
DCL:	Data Control Language</p>

<h1 id="sqlè¯­è¨€">sqlè¯­è¨€</h1>

<h2 id="ddl">DDL</h2>

<p>å®šä¹‰æ•°æ®åº“ã€è¡¨ã€å­—æ®µã€‚
<strong>æ•°æ®åº“</strong>ï¼š</p>

<pre><code class="language-mysql"># æŸ¥çœ‹æ•°æ®åº“åˆ—è¡¨
show databases;
# åˆ›å»ºæ•°æ®åº“
create database if not exists db_name;
# åˆ é™¤æ•°æ®åº“
drop database db_name;
# æ¸…ç©ºæ•°æ®åº“ï¼Œä½†ä¿ç•™æ•°æ®åº“åå’Œè¡¨å¤´
TRUNCATE database db_name;
</code></pre>

<p><strong>è¡¨</strong>:</p>

<pre><code class="language-mysql"># å…ˆè¿›å…¥æ•°æ®åº“ï¼Œæ‰èƒ½è¿›è¡Œè¡¨æ“ä½œ
use db_name;
# åˆ›å»ºè¡¨
create table if not exists tbl_name (
field1 int commit "å­—æ®µ1æ³¨é‡Š",
field2 varchar(20) commit "å­—æ®µ2æ³¨é‡Š"
) commit "è¡¨æ³¨é‡Š";
# æŸ¥çœ‹è¡¨
desc tbl_name;
# æŸ¥çœ‹è¡¨çš„åˆ›å»ºè¯­å¥
show create table tbl_name;
# åˆ é™¤è¡¨
drop table tbl_name;
# ä¿®æ”¹è¡¨å
alter table old_tbl_name rename to new_tbl_name;
</code></pre>

<p>å­—æ®µ</p>

<pre><code class="language-mysql"># å…ˆè¿›å…¥æ•°æ®åº“ï¼Œæ‰èƒ½è¿›è¡Œè¡¨çš„å­—æ®µæ“ä½œ
use db_name;
# ä¿®æ”¹è¡¨å­—æ®µç±»å‹
alter table tbl_name modify field1 int int unsigned;
# ä¿®æ”¹è¡¨å­—æ®µåå’Œç±»å‹
alter table tbl_name change old_field new_field int;
# æ·»åŠ è¡¨å­—æ®µ
alter table tbl_name add filedn char(10);
# åˆ é™¤è¡¨å­—æ®µ
alter table tbl_name drop filedn;
</code></pre>

<h2 id="dml">DML</h2>

<p>å‘è¡¨ä¸­æ’å…¥ã€åˆ é™¤ã€ä¿®æ”¹è®°å½•
<strong>æ’å…¥æ•°æ®</strong>ï¼šinsert into</p>

<pre><code class="language-mysql"># æ’å…¥ä¸€æ¡æ•°æ®ï¼Œæ²¡æœ‰åˆ—å‡ºçš„å­—æ®µï¼Œä½¿ç”¨é»˜è®¤å€¼
insert into tbl_name(field1, field2...) values(val1, val2)
# æ’å…¥ä¸€æ¡æ•°æ®ï¼Œä¸ä½¿ç”¨é»˜è®¤å€¼
insert into tbl_name values(val1, val2, ....valn)
# æ‰¹é‡æ’å…¥æ•°æ®
insert into tbl_name(field1, field2...) values(val1, val2),values(val1, val2),values(val1, val2)
</code></pre>

<p><strong>åˆ é™¤æ•°æ®</strong>: delete from</p>

<pre><code class="language-mysql"># åˆ é™¤æŒ‡å®šæ•°æ®
delete from tbl_name where fieldn = value;
</code></pre>

<p><strong>ä¿®æ”¹æ•°æ®</strong>: update</p>

<pre><code class="language-mysql"># æ‰¾åˆ°field1 = val1çš„æ‰€æœ‰è®°å½•ï¼Œä¿®æ”¹å¯¹åº”è®°å½•çš„filed2ä¸ºval2
update tbl_name set filed2 = val2 where field1 = val1;
</code></pre>

<h2 id="dql">DQL</h2>

<p>æŸ¥è¯¢è¡¨ä¸­è®°å½•</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>select å­—æ®µ
from è¡¨å
where	æŸ¥è¯¢æ¡ä»¶
group by	åˆ†ç»„å­—æ®µåˆ—è¡¨
having	åˆ†ç»„åæ¡ä»¶åˆ—è¡¨
order by	æ’åºå­—æ®µåˆ—è¡¨
limit	åˆ†é¡µå‚æ•°
</code></pre></div></div>

<h3 id="åŸºæœ¬æŸ¥è¯¢">åŸºæœ¬æŸ¥è¯¢</h3>

<pre><code class="language-mysql"># æŸ¥è¯¢å¤šä¸ªå­—æ®µ
select field1ï¼Œ field2, ...fieldn from tbl_name;
# æŸ¥è¯¢æ‰€æœ‰å­—æ®µ
select * from tbl_name;
</code></pre>

<p><strong>è®¾ç½®æŸ¥è¯¢ç»“æœå­—æ®µçš„åˆ«å</strong></p>

<pre><code class="language-mysql"># ç»™æŸ¥è¯¢åè¿”å›ç»“æœçš„å­—æ®µfiled1å’Œfield2åˆ†åˆ«è®¾ç½®åˆ«åã€‚
select field1 [as alais1], field2 [as alais2] from tbl_name;
</code></pre>

<p><strong>æŸ¥è¯¢ç»“æœå»é‡</strong></p>

<pre><code class="language-mysql">select distinct å­—æ®µåˆ—è¡¨ from tbl_name;
</code></pre>

<p><strong>æ¡ä»¶æŸ¥è¯¢</strong></p>

<pre><code class="language-mysql">select å­—æ®µåˆ—è¡¨ from tbl_name where æ¡ä»¶åˆ—è¡¨
</code></pre>

<p><strong>æ¡ä»¶</strong></p>

<p>åˆ†ä¸ºä¸¤ç±»ï¼Œæ¯”è¾ƒè¿ç®—ç¬¦å’Œé€»è¾‘è¿ç®—ç¬¦ã€‚</p>

<table>
  <thead>
    <tr>
      <th>æ¯”è¾ƒè¿ç®—ç¬¦</th>
      <th>åŠŸèƒ½</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>&gt;</td>
      <td>å¤§äº</td>
    </tr>
    <tr>
      <td>&gt;=</td>
      <td>å¤§äºç­‰äº</td>
    </tr>
    <tr>
      <td>&lt;</td>
      <td>å°äº</td>
    </tr>
    <tr>
      <td>&lt;=</td>
      <td>å°äºç­‰äº</td>
    </tr>
    <tr>
      <td>=</td>
      <td>ç­‰äº</td>
    </tr>
    <tr>
      <td>&lt;&gt;æˆ–!=</td>
      <td>ä¸ç­‰äº</td>
    </tr>
    <tr>
      <td>field1 between low and high</td>
      <td>fieldåœ¨èŒƒå›´[low, high]å†…ï¼Œé—­åŒºé—´</td>
    </tr>
    <tr>
      <td>in(â€¦)</td>
      <td>inä¹‹åçš„åˆ—è¡¨ä¸­ï¼Œå¤šé€‰1</td>
    </tr>
    <tr>
      <td>like</td>
      <td>å ä½ç¬¦ï¼Œæ¨¡ç³ŠåŒ¹é…ã€‚(åŒ¹é…å•ä¸ªå­—ç¬¦: â€œ_â€œï¼ŒåŒ¹é…ä»»æ„ä¸ªå­—ç¬¦:â€%â€)</td>
    </tr>
    <tr>
      <td>is null</td>
      <td>æ˜¯null</td>
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th>é€»è¾‘è¿ç®—ç¬¦</th>
      <th>åŠŸèƒ½</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>and æˆ– &amp;&amp;</td>
      <td>å¤šä¸ªæ¡ä»¶åŒæ—¶æˆç«‹</td>
    </tr>
    <tr>
      <td>or æˆ– ||</td>
      <td>å¤šä¸ªæ¡ä»¶ä»»æ„ä¸€ä¸ªæˆç«‹</td>
    </tr>
    <tr>
      <td>not æˆ– !</td>
      <td>éï¼Œä¸æ˜¯</td>
    </tr>
  </tbody>
</table>

<pre><code class="language-mysql"># æŸ¥è¯¢èº«ä»½è¯å·ä¸ºç©ºçš„ä¿¡æ¯
select * from tbl_name where card is null;
# æŸ¥è¯¢èº«ä»½è¯å·ä¸ä¸ºç©ºçš„ä¿¡æ¯
select * from tbl_name where card is not null;
# æŸ¥è¯¢å¹´é¾„ä¸º18ã€20ã€40çš„æ‰€æœ‰ä¿¡æ¯
select * from tbl_name where age = 18 or age = 20 or age = 40;
select * from tbl_name where age in (18,20,40);
# æŸ¥è¯¢å¹´é¾„åœ¨20åˆ°30ä¹‹é—´çš„æ‰€æœ‰ä¿¡æ¯
select * from tbl_name where age &gt;=20 and where age &lt;= 30;
select * from tbl_name where age between 20 and 30;
# æŸ¥è¯¢å§“åä¸º2ä¸ªå­—çš„æ‰€æœ‰ä¿¡æ¯ï¼Œç”¨æ¨¡ç³ŠæŸ¥è¯¢ï¼Œä½¿ç”¨ä¸¤ä¸ªä¸‹åˆ’çº¿_
select * from tbl_name where name like "__";
# æŸ¥è¯¢èº«ä»½è¯å·æœ€åä¸€ä½æ˜¯Xçš„æ‰€æœ‰ä¿¡æ¯
select * from tbl_name where card like "%X";
</code></pre>

<p><strong>èšåˆå‡½æ•°</strong></p>

<p>å°†ä¸€åˆ—æ•°æ®ä½œä¸ºä¸€ä¸ªæ•´ä½“ï¼Œè¿›è¡Œçºµå‘è®¡ç®—ã€‚
å¸¸è§èšåˆå‡½æ•°ã€‚</p>

<table>
  <thead>
    <tr>
      <th>å‡½æ•°</th>
      <th>åŠŸèƒ½</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>count</td>
      <td>ç»Ÿè®¡æ•°é‡</td>
    </tr>
    <tr>
      <td>max</td>
      <td>æœ€å¤§å€¼</td>
    </tr>
    <tr>
      <td>min</td>
      <td>æœ€å°å€¼</td>
    </tr>
    <tr>
      <td>avg</td>
      <td>å¹³å‡å€¼</td>
    </tr>
    <tr>
      <td>sum</td>
      <td>æ±‚å’Œ</td>
    </tr>
  </tbody>
</table>

<pre><code class="language-mysql"># ç»Ÿè®¡è¡¨çš„è®°å½•é•¿åº¦
select count(*) from tbl_name;
select count(name) from tbl_name;
</code></pre>

<h3 id="å¯¹ç»“æœæ’åº">å¯¹ç»“æœæ’åº</h3>

<pre><code class="language-mysql"># å¯¹è¡¨ä¸­çš„æ•°æ®ï¼ŒæŒ‰ç…§å­—æ®µfield1å‡åºæ’åºï¼Œå¦‚æœå­—æ®µfield1å¯¹åº”çš„å€¼ç›¸åŒï¼Œå†æŒ‰ç…§å­—æ®µfield2è¿›è¡Œé™åºæ’åº.
select * from tbl_name order by field1 asc, field2 desc;
</code></pre>

<h3 id="å¯¹ç»“æœåˆ†ç»„">å¯¹ç»“æœåˆ†ç»„</h3>

<pre><code class="language-mysql"># æŒ‰ç…§æ€§åˆ«å¯¹è¡¨è¿›è¡Œåˆ†ç»„ï¼Œç»Ÿè®¡ä¸åŒæ€§åˆ«çš„äººæ•°
select gender, count(*) as "peopleCount" from tbl_name group by gender;
</code></pre>

<h3 id="å¯¹ç»“æœåˆ†é¡µ">å¯¹ç»“æœåˆ†é¡µ</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>limit index count
å¯¹ç»“æœè¿›è¡Œåˆ†é¡µï¼Œcountæ˜¯æ¯é¡µå±•ç¤ºçš„æ•°æ®æ¡æ•°ï¼Œindexæ˜¯æ•°æ®çš„ç´¢å¼•ã€‚é¡µç ä¸‹æ ‡ä»1å¼€å§‹ã€‚
index = (é¡µç  - 1) * count;
æ¯”å¦‚æ¯é¡µå±•ç¤º10ä¸ªï¼Œä»ç¬¬7é¡µå¼€å§‹ï¼Œé‚£ä¹ˆç´¢å¼•ä¸‹æ ‡å°±æ˜¯(7-1)*10=60
</code></pre></div></div>

<pre><code class="language-mysql"># ç¬¬1é¡µï¼Œæ¯é¡µå±•ç¤º10æ¡æ•°æ®
select * from tbl_name limit 0, 10;
# ç¬¬7é¡µï¼Œæ¯é¡µå±•ç¤º10æ¡æ•°æ®
select * from tbl_name limit 60, 10;
</code></pre>

<h2 id="dcl">DCL</h2>

<p>ç®¡ç†è®¿é—®æ•°æ®åº“çš„ç”¨æˆ·ï¼Œä»¥åŠç”¨æˆ·çš„è®¿é—®æ•°æ®åº“ä¸­è¡¨çš„æƒé™ã€‚
mysqlç”¨æˆ·ç›¸å…³çš„ä¿¡æ¯å­˜æ”¾åœ¨mysqlæ•°æ®åº“çš„userè¡¨ä¸­ã€‚è¡¨ä¸­ä¸»è¦å­˜æ”¾:
Host:ç”¨æˆ·æ‰€åœ¨çš„ä¸»æœº
User:ç”¨æˆ·å
ä»¥åŠå„ç§å„æ ·çš„æƒé™ã€‚Select_privã€Insert_privã€Update_privã€Delete_privã€Create_privç­‰ç­‰</p>

<h3 id="ç”¨æˆ·ç®¡ç†">ç”¨æˆ·ç®¡ç†</h3>

<pre><code class="language-mysql"># æŸ¥è¯¢ç”¨æˆ·
use mysql;
select * from user;
</code></pre>

<pre><code class="language-mysql"># åˆ›å»ºç”¨æˆ·
create user 'ç”¨æˆ·å'@'ä¸»æœºå' identified by 'å¯†ç ';
# åˆ›å»ºæœ¬æœºçš„ç”¨æˆ·u_itcastï¼Œå¯†ç æ˜¯123456
create user 'u_itcast'@'localhost' identified by '123456';
# åˆ›å»ºä»»æ„è¿œç¨‹çš„ç”¨æˆ·u_heimaï¼Œå¯†ç æ˜¯1234
create user 'u_heima'@'%' identified by '1234';
</code></pre>

<pre><code class="language-mysql"># ä¿®æ”¹ç”¨æˆ·å¯†ç 
alter user 'ç”¨æˆ·å'@'ä¸»æœºå' identified with mysql_native_password by 'æ–°å¯†ç ';
alter user 'u_itcast'@'localhost' identified with mysql_native_password by '1234';
</code></pre>

<pre><code class="language-mysql"># åˆ é™¤ç”¨æˆ·
drop user 'ç”¨æˆ·å'@'ä¸»æœºå';
drop user 'u_itcast'@'localhost';
</code></pre>

<h3 id="æƒé™ç®¡ç†">æƒé™ç®¡ç†</h3>

<table>
  <thead>
    <tr>
      <th>æƒé™</th>
      <th>è¯´æ˜</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>all</td>
      <td>æ‰€æœ‰æƒé™</td>
    </tr>
    <tr>
      <td>select</td>
      <td>æŸ¥è¯¢æ•°æ®</td>
    </tr>
    <tr>
      <td>insert</td>
      <td>æ’å…¥æ•°æ®</td>
    </tr>
    <tr>
      <td>update</td>
      <td>ä¿®æ”¹æ•°æ®</td>
    </tr>
    <tr>
      <td>alter</td>
      <td>ä¿®æ”¹è¡¨</td>
    </tr>
    <tr>
      <td>drop</td>
      <td>åˆ é™¤æ•°æ®åº“/è¡¨/è§†å›¾</td>
    </tr>
    <tr>
      <td>create</td>
      <td>åˆ›å»ºæ•°æ®åº“/è¡¨</td>
    </tr>
  </tbody>
</table>

<pre><code class="language-mysql"># æŸ¥çœ‹æƒé™
show grants for 'ç”¨æˆ·å'@'ä¸»æœºå';
show grants for 'u_itcast'@'localhoost';
# æˆäºˆæƒé™
grant æƒé™åˆ—è¡¨ on æ•°æ®åº“å.è¡¨å to 'ç”¨æˆ·å'@'ä¸»æœºå';
# ç»™ç”¨æˆ·'u_itcast'@'localhost'æˆäºˆæ•°æ®åº“db_nameä¸­æ‰€æœ‰è¡¨æ‰€æœ‰æƒé™
grant all on db_name.* to 'u_itcast'@'localhost';
# æ’¤é”€æƒé™
revoke æƒé™åˆ—è¡¨ on æ•°æ®åº“å.è¡¨å from 'ç”¨æˆ·å'@'ä¸»æœºå';
</code></pre>

<h1 id="å‡½æ•°">å‡½æ•°</h1>

<h2 id="å­—ç¬¦ä¸²å‡½æ•°">å­—ç¬¦ä¸²å‡½æ•°</h2>

<pre><code class="language-mysql"># å­—ç¬¦ä¸²æ‹¼æ¥
concat(str1, str2, ...)
# å­—ç¬¦ä¸²è½¬å°å†™
lower(str)
# å­—ç¬¦ä¸²è½¬å¤§å†™
upper(str)
# å·¦å¡«å……å­—ç¬¦ä¸²ï¼Œä½¿å¾—strçš„é•¿åº¦ä¸ºlengthï¼Œä¸è¶³çš„éƒ¨åˆ†ï¼Œå·¦ä¾§å¡«å……å­—ç¬¦ch
lpad(str, length, ch)
# å³å¡«å……å­—ç¬¦ä¸²
rpad(str, length, ch)
# å»é™¤strå¤´å°¾ç©ºç™½å­—ç¬¦
trim(str)
# è·å–å­ä¸²
substring(str, pos, length)
</code></pre>

<pre><code class="language-mysql"># æ‹¼æ¥
select concat('hello', ' world');
# è½¬å°å†™
select lower('Hello');
# è½¬å¤§å†™
select upper('Hello');
# å·¦å¡«å……ã€‚å¾—åˆ°xxxxxhello
select lpad('hello', 10, 'x');
# å»é™¤ç©ºæ ¼
select trim ('  hello world  ');
# å­ä¸²,
select substring('hello world', 1, 5);
</code></pre>

<pre><code class="language-mysql"># ä¿®æ”¹è¡¨æ•°æ®ï¼Œå°†ç¼–å·ç»Ÿä¸€æ‰©å……åˆ°5ä½æ•°ï¼Œä¸è¶³5ä½æ•°çš„åœ¨å‰é¢å¡«å……0ï¼Œæ¯”å¦‚ç¼–å·ä¸º1ï¼Œåº”è¯¥æ˜¾ç¤º00001
update tbl_name set id = lpad(id, 5, '0');
</code></pre>

<h2 id="æ•°å€¼å‡½æ•°">æ•°å€¼å‡½æ•°</h2>

<pre><code class="language-mysql"># å‘ä¸Šå–æ•´
ceil(x)
# å‘ä¸‹å–æ•´
floor(x)
# å–æ¨¡ x%y
mod(x, y)
# è¿”å›0~1ä¹‹é—´éšæœºæ•°
rand()
# xå››èˆäº”å…¥ï¼Œä¿ç•™å°æ•°ç‚¹ä½æ•°y
round(x, y)
</code></pre>

<pre><code class="language-mysql"># éšæœºè¿”å›6ä½æ•°éªŒè¯ç 
select lpad(floor(rand()*1000000), 6, '0');
</code></pre>

<h2 id="æ—¥æœŸå‡½æ•°">æ—¥æœŸå‡½æ•°</h2>

<pre><code class="language-mysql"># æ—¥æœŸï¼šå¹´æœˆæ—¥
curdate()
# æ—¶é—´ï¼šæ—¶åˆ†ç§’
curtime()
# æ—¥æœŸ+æ—¶é—´
now()
# è·å–æŒ‡å®šæ—¥æœŸçš„å¹´ä»½
year(date)
# è·å–æŒ‡å®šæ—¥æœŸçš„æœˆä»½
month(date)
# è·å–æŒ‡å®šæ—¥æœŸçš„æ—¥
day(date)
# è¿”å›ä¸€ä¸ªæ—¥æœŸ(æ—¶é—´å€¼)+æ—¶é—´é—´éš”expråçš„æ—¶é—´å€¼ï¼Œè¿™é‡Œçš„typeæ˜¯æ—¶é—´é—´éš”exprçš„å•ä½ã€‚å•ä½æœ‰year\month\day\hour\minute\second
date_add(date, interval expr type)
# è¿”å›ç»“æŸæ—¶é—´date1å’Œèµ·å§‹æ—¶é—´date2ä¹‹é—´çš„å¤©æ•°ï¼Œdate1 - date2
datediff(date1, date2)
</code></pre>

<pre><code class="language-mysql"># æŸ¥çœ‹å½“å‰æ—¥æœŸ
select curdate();
# æŸ¥çœ‹å½“å‰æ—¶é—´
select curtime();
# æŸ¥çœ‹å½“å‰æ—¥æœŸ+æ—¶é—´
select now();
# æŸ¥çœ‹å½“å‰å¹´ä»½
select year(now());
# æŸ¥çœ‹å½“å‰æœˆä»½
select month(now());
# æŸ¥çœ‹å½“å‰æ—¥
select day(now());
# æŸ¥çœ‹30å¤©åçš„æ—¥æœŸ
select date_add(now(), interval 30 day);
select date_add(now(), interval 30 hour);
select date_add(now(), interval 30 minute);
select date_add(now(), interval 30 second);
# æŸ¥çœ‹å½“å‰æ—¥æœŸå’ŒæŒ‡å®šæ—¥æœŸä¹‹é—´çš„å¤©æ•°ã€‚æ—¥æœŸçš„æ ¼å¼ä¸curdate()æˆ–now()å‡½æ•°è¾“å‡ºçš„æ ¼å¼ä¿æŒä¸€è‡´ã€‚
select datediff(now(), "2022-4-1");
select datediff("2022-4-3 08:46:13", "2022-4-1 08:46:10");
</code></pre>

<pre><code class="language-mysql"># æŸ¥çœ‹å‘˜å·¥å…¥èŒå¤©æ•°,å¹¶æŒ‰ç…§å“¦å…¥èŒå¤©æ•°é™åºæ’åˆ—
select name, datediff(curdate(), entrydate) as 'entrydays' from tbl_name order by entrydays desc;
</code></pre>

<h2 id="æµç¨‹æ§åˆ¶å‡½æ•°">æµç¨‹æ§åˆ¶å‡½æ•°</h2>

<p>å®ç°æ¡ä»¶ç­›é€‰ï¼Œä»è€Œæé«˜è¯­å¥çš„æ•ˆç‡ã€‚</p>

<table>
  <thead>
    <tr>
      <th>å‡½æ•°</th>
      <th>åŠŸèƒ½</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>if(value, t, f)</td>
      <td>å¦‚æœvalueä¸ºtrueï¼Œè¿”å›tï¼Œå¦åˆ™è¿”å›f</td>
    </tr>
    <tr>
      <td>ifnull(value1, value2)</td>
      <td>å¦‚æœvalue1ä¸ä¸ºnullï¼Œåˆ™è¿”å›value1ï¼Œå¦åˆ™è¿”å›value2</td>
    </tr>
    <tr>
      <td>case when val1 then res1 when val2 then res2 â€¦ else default end</td>
      <td>å¦‚æœval1ä¸ºtrueï¼Œè¿”å›res1ï¼Œå¦åˆ™è¿”å›é»˜è®¤å€¼</td>
    </tr>
    <tr>
      <td>case expr when val1 then res1 when val2 then res2 â€¦ else default end</td>
      <td>å¦‚æœexprç­‰äºval1ï¼Œè¿”å›res1ï¼Œå¦åˆ™è¿”å›é»˜è®¤å€¼</td>
    </tr>
  </tbody>
</table>

<pre><code class="language-mysql"># ifå‡½æ•°ï¼Œæ¡ä»¶ä¸ºtrueï¼Œè¿”å›ok
select if(true, 'ok', 'error');
# ifå‡½æ•°ï¼Œæ¡ä»¶ä¸ºfalseï¼Œè¿”å›error
select if(false, 'ok', 'error');

# ifnullå‡½æ•°ï¼Œvalue1æ˜¯å­—ç¬¦ä¸²ï¼Œä¸ä¸ºnullï¼Œè¿”å›value1
ifnull('ok', 'val2');
# ifnullå‡½æ•°ï¼Œvalue1æ˜¯å­—ç¬¦ä¸²ï¼Œè™½ç„¶æ˜¯ç©ºä¸²ï¼Œä½†æ˜¯ä¸ä¸ºnullï¼Œè¿”å›ç©ºä¸²
ifnull('', 'val2');
# ifnullå‡½æ•°ï¼Œvalue1ä¸ºnullï¼Œè¿”å›val2
ifnull(null, 'val2');

# case
select name, if(address = 'bj' || address = 'sh', 'ä¸€çº¿', 'äºŒçº¿') as 'åŸå¸‚ç­‰çº§' from tbl_name;
select name, case address when 'bj' then 'ä¸€çº¿' when 'sh' then 'ä¸€çº¿' else 'äºŒçº¿' end as 'åŸå¸‚ç­‰çº§' from tbl_name
</code></pre>

<pre><code class="language-mysql">select 
	id,
	name,
	(case when math&gt;=85 then 'ä¼˜ç§€' when math&gt;=60 then 'åŠæ ¼' else 'ä¸åŠæ ¼' end) as 'æ•°å­¦',
	(case when english&gt;=85 then 'ä¼˜ç§€' when english&gt;=60 then 'åŠæ ¼' else 'ä¸åŠæ ¼' end) as 'è‹±è¯­',
	(case when chinese&gt;=85 then 'ä¼˜ç§€' when chinese&gt;=60 then 'åŠæ ¼' else 'ä¸åŠæ ¼' end) as 'è¯­æ–‡',
from score;
</code></pre>

<h1 id="çº¦æŸ">çº¦æŸ</h1>

<p>æ¦‚å¿µï¼šçº¦æŸä½œç”¨äºè¡¨ä¸­å­—æ®µçš„è§„åˆ™ï¼Œç”¨äºé™åˆ¶å­˜å‚¨åœ¨è¡¨ä¸­çš„æ•°æ®ã€‚
ç›®çš„ï¼šä¿è¯æ•°æ®åº“ä¸­æ•°æ®çš„æ­£ç¡®ã€æœ‰æ•ˆå’Œå®Œæ•´ã€‚
åˆ†ç±»ï¼š</p>

<table>
  <thead>
    <tr>
      <th>çº¦æŸ</th>
      <th>æè¿°</th>
      <th>å…³é”®å­—</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>éç©ºçº¦æŸ</td>
      <td>é™åˆ¶è¯¥å­—æ®µçš„æ•°æ®ä¸èƒ½ä¸ºnull</td>
      <td>not null</td>
    </tr>
    <tr>
      <td>å”¯ä¸€çº¦æŸ</td>
      <td>ä¿è¯è¯¥å­—æ®µçš„æ‰€æœ‰æ•°æ®éƒ½æ˜¯å”¯ä¸€ã€ä¸é‡å¤çš„</td>
      <td>unique</td>
    </tr>
    <tr>
      <td>ä¸»é”®çº¦æŸ</td>
      <td>ä¸»é”®æ˜¯ä¸€è¡Œæ•°æ®çš„å”¯ä¸€æ ‡è¯†ï¼Œè¦æ±‚éç©ºä¸”å”¯ä¸€</td>
      <td>primary key</td>
    </tr>
    <tr>
      <td>é»˜è®¤çº¦æŸ</td>
      <td>ä¿å­˜æ•°æ®æ—¶ï¼Œå¦‚æœæœªæŒ‡å®šè¯¥å­—æ®µçš„å€¼ï¼Œåˆ™é‡‡ç”¨é»˜è®¤å€¼</td>
      <td>default</td>
    </tr>
    <tr>
      <td>æ£€æŸ¥çº¦æŸ(8.0.16ä¹‹åç‰ˆæœ¬)</td>
      <td>ä¿è¯å­—æ®µå€¼æ»¡è¶³æŸä¸€æ¡ä»¶</td>
      <td>check</td>
    </tr>
    <tr>
      <td>å¤–é”®çº¦æŸ</td>
      <td>ç”¨æ¥å…³è”ä¸¤å¼ è¡¨ä¹‹é—´çš„è¿æ¥ï¼Œä¿è¯æ•°æ®çš„ä¸€è‡´æ€§å’Œå®Œæ•´æ€§</td>
      <td>foreign key</td>
    </tr>
  </tbody>
</table>

<p>çº¦æŸä½œç”¨äºè¡¨ä¸­å­—æ®µä¸Šï¼Œå¯ä»¥åœ¨åˆ›å»ºè¡¨æˆ–ä¿®æ”¹è¡¨ä¸­æ·»åŠ çº¦æŸã€‚
æ¡ˆä¾‹éœ€æ±‚ã€‚</p>

<table>
  <thead>
    <tr>
      <th>å­—æ®µå</th>
      <th>å­—æ®µå«ä¹‰</th>
      <th>å­—æ®µç±»å‹</th>
      <th>çº¦æŸæ¡ä»¶</th>
      <th>çº¦æŸå…³é”®å­—</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>id</td>
      <td>idå”¯ä¸€æ ‡è¯†</td>
      <td>int</td>
      <td>ä¸»é”®ï¼Œå¹¶ä¸”è‡ªåŠ¨å¢é•¿</td>
      <td>primary key, auto_incremennt</td>
    </tr>
    <tr>
      <td>name</td>
      <td>å§“å</td>
      <td>varchar(10)</td>
      <td>ä¸ä¸ºç©ºï¼Œå¹¶ä¸”å”¯ä¸€</td>
      <td>not null, unique</td>
    </tr>
    <tr>
      <td>age</td>
      <td>å¹´é¾„</td>
      <td>int</td>
      <td>å¤§äº0ï¼Œå¹¶ä¸”å°äºç­‰äº120</td>
      <td>check</td>
    </tr>
    <tr>
      <td>status</td>
      <td>è½¬æ€</td>
      <td>char(1)</td>
      <td>å¦‚æœæ²¡æœ‰æŒ‡å®šè¯¥å€¼ï¼Œé»˜è®¤ä¸º1</td>
      <td>default</td>
    </tr>
    <tr>
      <td>gender</td>
      <td>æ€§åˆ«</td>
      <td>char(1)</td>
      <td>æ— </td>
      <td>Â </td>
    </tr>
  </tbody>
</table>

<h2 id="æ™®é€šçº¦æŸ">æ™®é€šçº¦æŸ</h2>

<pre><code class="language-mysql">create table u_user (
	id int primary key auto_increment comment 'ä¸»é”®',
  name varchar(10) not null unique comment "å§“å",
  age int check(age&gt;0 &amp;&amp; age&lt;=120) comment 'å¹´é¾„',
  status char(1) default '1' comment 'çŠ¶æ€',
  gender char(1) comment 'æ€§åˆ«'
) comment 'ç”¨æˆ·è¡¨';
</code></pre>

<h2 id="å¤–é”®çº¦æŸ">å¤–é”®çº¦æŸ</h2>

<p>ä¸»è¦ç”¨æ¥ä¿è¯å­è¡¨å’Œçˆ¶è¡¨æ•°æ®çš„å®Œæ•´æ€§ã€‚åˆ›å»ºå¤–é”®çº¦æŸæœ‰ä¸¤ç§æ–¹å¼ã€‚åˆ›å»ºè¡¨æ—¶æŒ‡å®šå¤–é”®çº¦æŸï¼Œæˆ–è€…ä¿®æ”¹è¡¨æ—¶æŒ‡å®šå¤–é”®çº¦æŸã€‚</p>

<h3 id="åˆ›å»ºå¤–é”®çº¦æŸ">åˆ›å»ºå¤–é”®çº¦æŸ</h3>

<p><strong>åˆ›å»ºè¡¨æ—¶æŒ‡å®šå¤–é”®çº¦æŸ</strong></p>

<pre><code class="language-mysql"># åˆ›å»ºçˆ¶è¡¨
create table dept (
  id int primary key auto_increment,
  name varchar(10) not null unique,
) comment 'å­è¡¨ï¼Œå‘˜å·¥ä¿¡æ¯è¡¨';
insert into emp(name) values('æ€»ç»åŠ'),('ç ”å‘éƒ¨'), ('é”€å”®éƒ¨'), ('å•†åŠ¡éƒ¨');

# åˆ›å»ºå­è¡¨
create table emp (
  id int primary key auto_increment,
  name varchar(10) not null unique,
  dept_id int,
  # åˆ›å»ºçº¦æŸ
  constraint fk_emp_dept foreign key (å­è¡¨å¤–é”®å­—æ®µådept_id) references dept(çˆ¶è¡¨ä¸»é”®å­—æ®µåid);
) comment 'å­è¡¨ï¼Œå‘˜å·¥ä¿¡æ¯è¡¨';
insert into emp(name, dept_id) values('é‡‘åº¸', 5),('å¼ æ— å¿Œ', 1), ('å°æ˜­', 1), ('èµµæ•', 2);


</code></pre>

<p><strong>ä¿®æ”¹è¡¨æ—¶æŒ‡å®šå¤–é”®çº¦æŸ</strong></p>

<pre><code class="language-mysql"># åˆ›å»ºå­è¡¨
create table emp (
  id int primary key auto_increment,
  name varchar(10) not null unique,
  dept_id int
) comment 'å­è¡¨ï¼Œå‘˜å·¥ä¿¡æ¯è¡¨';
insert into emp(name, dept_id) values('é‡‘åº¸', 5),('å¼ æ— å¿Œ', 1), ('å°æ˜­', 1), ('èµµæ•', 2);

# åˆ›å»ºçˆ¶è¡¨
create table dept (
  id int primary key auto_increment,
  name varchar(10) not null unique,
) comment 'çˆ¶è¡¨ï¼Œéƒ¨é—¨ä¿¡æ¯è¡¨';
insert into emp(name) values('æ€»ç»åŠ'),('ç ”å‘éƒ¨'), ('é”€å”®éƒ¨'), ('å•†åŠ¡éƒ¨');

# ç»™å­è¡¨æ·»åŠ å¤–é”®çº¦æŸã€‚å¤–é”®åç§°å¯ä»¥è‡ªå·±éšæ„èµ·ã€‚
alter table å­è¡¨å add constraint å¤–é”®åç§° foreign key(å­è¡¨å¤–é”®å­—æ®µå) references çˆ¶è¡¨å(çˆ¶è¡¨ä¸»é”®å­—æ®µå);
alter table emp add constraint fk_emp_dept foreign key(dept_id) references dept(id);
</code></pre>

<h3 id="åˆ é™¤å¤–é”®çº¦æŸ">åˆ é™¤å¤–é”®çº¦æŸ</h3>

<pre><code class="language-mysql"># åˆ é™¤å¤–é”®
alter table emp drop foreign key å¤–é”®åç§°;
alter table emp drop foreign key fk_emp_dept;
</code></pre>

<h3 id="å¤–é”®åˆ é™¤æ›´æ–°è¡Œä¸º">å¤–é”®åˆ é™¤æ›´æ–°è¡Œä¸º</h3>

<table>
  <thead>
    <tr>
      <th>è¡Œä¸º</th>
      <th>è¯´æ˜</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>no_action</td>
      <td>åœ¨çˆ¶è¡¨ä¸­åˆ é™¤/æ›´æ–°è®°å½•ï¼Œå¦‚æœè¯¥è®°å½•å¯¹åº”æœ‰å¤–é”®ï¼Œåˆ™ä¸å…è®¸åˆ é™¤/æ›´æ–°ï¼Œé€šrestrict</td>
    </tr>
    <tr>
      <td>restrict</td>
      <td>åŒno_action</td>
    </tr>
    <tr>
      <td>cascade</td>
      <td>åœ¨çˆ¶è¡¨ä¸­åˆ é™¤/æ›´æ–°è®°å½•ï¼Œå¦‚æœè¯¥è®°å½•å¯¹åº”æœ‰å¤–é”®ï¼Œåˆ™åˆ é™¤/æ›´æ–°å¤–é”®åœ¨å­è¡¨ä¸­çš„è®°å½•</td>
    </tr>
    <tr>
      <td>set null</td>
      <td>åœ¨çˆ¶è¡¨ä¸­åˆ é™¤/æ›´æ–°è®°å½•ï¼Œå¦‚æœè¯¥è®°å½•å¯¹åº”æœ‰å¤–é”®ï¼Œåˆ™è®¾ç½®å­è¡¨ä¸­è¯¥å¤–é”®å­—æ®µçš„å€¼ä¸ºnullï¼ˆå‰ææ˜¯å­è¡¨ä¸­è¯¥å­—æ®µå…è®¸å–nullï¼‰</td>
    </tr>
    <tr>
      <td>set default</td>
      <td>çˆ¶è¡¨å˜æ›´æ—¶ï¼Œå­è¡¨å°†å¤–é”®å­—æ®µçš„å€¼è®¾ç½®ä¸ºé»˜è®¤å€¼ï¼ˆinnodbå¼•æ“ä¸æ”¯æŒï¼‰</td>
    </tr>
  </tbody>
</table>

<pre><code class="language-mysql"># åˆ›å»ºè¡¨æ—¶æŒ‡å®šå¤–é”®çº¦æŸ
create table tbl_name(
	....,
  ....,
  # å¤–é”®å­—æ®µ
  xxxid int,
  # å¤–é”®çº¦æŸ
  constraint fk_name foreign key xxxid references çˆ¶è¡¨(ä¸»é”®id) on update cascade on delete cascade
);
</code></pre>

<pre><code class="language-mysql"># ä¿®æ”¹è¡¨æ—¶æŒ‡å®šå¤–é”®çº¦æŸ
alter table emp add constraint fk_emp_dept foreign key(dept_id) references dept(id) on update cascade on delete 	cascade;
</code></pre>

<h1 id="å¤šè¡¨">å¤šè¡¨</h1>

<h2 id="å¤šè¡¨å…³ç³»">å¤šè¡¨å…³ç³»</h2>

<p>å¤šè¡¨å…³ç³»ï¼Œä¸»è¦ç”¨äºå¤šä¸ªè¡¨ä¹‹é—´é€šè¿‡å¤–é”®å…³è”ã€‚
å¯¹åº”çš„å…³ç³»æœ‰:ä¸€å¯¹ä¸€ã€ä¸€å¯¹nã€må¯¹nã€‚
ä¸€å¯¹nã€‚æŠŠ1çš„ä¸€æ–¹ç§°ä¸ºçˆ¶è¡¨ï¼ŒæŠŠnçš„ä¸€æ–¹ç§°ä¸ºå­è¡¨ï¼Œåœ¨å­è¡¨ä¸­å¢åŠ å¤–é”®ã€‚
må¯¹nã€‚æŠŠmå’Œnæ‰€å¯¹åº”çš„è¡¨ç§°ä¸ºçˆ¶è¡¨ï¼Œå†å•ç‹¬å¢åŠ ä¸€ä¸ªå­è¡¨ï¼Œåœ¨å­è¡¨ä¸­å¢åŠ ä¸¤ä¸ªå¤–é”®ã€‚
ä¸€å¯¹1ã€‚é€‚ç”¨äºå•è¡¨æ‹†åˆ†æˆä¸¤ä¸ªè¡¨æˆ–å¤šä¸ªè¡¨ã€‚åœ¨ä»»æ„ä¸€æ–¹ä¸­å¢åŠ å¤–é”®å­—æ®µï¼Œä¸ºäº†ç¡®ä¿1å¯¹1ï¼Œå¤–é”®å­—æ®µå¿…é¡»è®¾ç½®ä¸ºuniqueçº¦æŸã€‚</p>

<h2 id="å¤šè¡¨æŸ¥è¯¢">å¤šè¡¨æŸ¥è¯¢</h2>

<table>
  <thead>
    <tr>
      <th>å¤šè¡¨æŸ¥è¯¢</th>
      <th>è¯­æ³•</th>
      <th>è¯´æ˜</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>å†…è¿æ¥</td>
      <td>è¡¨1 [inner] join è¡¨2 on è¿æ¥æ¡ä»¶</td>
      <td>ä¸¤ä¸ªè¡¨çš„äº¤é›†</td>
    </tr>
    <tr>
      <td>å·¦å¤–è¿æ¥</td>
      <td>è¡¨1 left outer join è¡¨2 on è¿æ¥æ¡ä»¶</td>
      <td>å®Œæ•´çš„å·¦è¡¨å’Œäº¤é›†éƒ¨åˆ†ã€‚</td>
    </tr>
    <tr>
      <td>å³å¤–è¿æ¥</td>
      <td>è¡¨1 right outer join è¡¨2 on è¿æ¥æ¡ä»¶</td>
      <td>å®Œæ•´çš„å³è¡¨å’Œäº¤é›†éƒ¨åˆ†ã€‚</td>
    </tr>
    <tr>
      <td>è‡ªè¿æ¥</td>
      <td>è¡¨1 alias1 join è¡¨1 alias2 on alias1.field1 = alias2.field2;</td>
      <td>å±äºå•è¡¨è‡ªè¿æ¥ã€‚</td>
    </tr>
  </tbody>
</table>

<pre><code class="language-mysql"># ç¬›å¡å°”ç§¯ã€‚è¿”å›çš„ç»“æœæ•°é‡æ˜¯size(tbl_name1) * size(tbl_name2)ã€‚
select * from tbl_name1, tbl_name2;
# å†…è¿æ¥ï¼ŒæŒ‡å®šè¿æ¥æ¡ä»¶(ä¸€èˆ¬æ˜¯é€šè¿‡å¤–é”®æ¥æŒ‡å®šè¿æ¥æ¡ä»¶)
select * from tbl_name1, tbl_name2 where tbl_name1.å¤–é”® = tbl_name2.ä¸»é”®;
select * from tbl_name1 inner join tbl_name2 on tbl_name1.å¤–é”® = tbl_name2.ä¸»é”®;

# å·¦å¤–è¿æ¥
select * from tbl_name1 left outer join tbl_name2 on tbl1_name.å¤–é”® = tbl_name2.ä¸»é”®;

# å³å¤–è¿æ¥
select * from tbl_name1 right outer join tbl_name2 on tbl1_name.å¤–é”® = tbl_name2.ä¸»é”®;

# å³å¤–è¿æ¥å¯ä»¥è½¬ä¸ºå·¦å¤–è¿æ¥ï¼Œåªéœ€è¦è°ƒæ¢ä¸¤ä¸ªè¡¨çš„å…ˆåé¡ºåº
select * from tbl_name2 left outer join tbl_name1 on tbl1_name.å¤–é”® = tbl_name2.ä¸»é”®;

# è‡ªè¿æ¥
select * from tbl_name as ta join tbl_name as tb on ta.field1 = tb.field2;
</code></pre>

<h2 id="è”åˆæŸ¥è¯¢">è”åˆæŸ¥è¯¢</h2>

<p>å°†å¤šæ¬¡æŸ¥è¯¢çš„ç»“æœåˆå¹¶èµ·æ¥ï¼Œå½¢æˆä¸€ä¸ªæ–°çš„æŸ¥è¯¢ç»“æœé›†ã€‚ä¸€èˆ¬æ˜¯å•è¡¨çš„å¤šæ¬¡æŸ¥è¯¢ï¼Œå› ä¸ºè”åˆæŸ¥è¯¢çš„å­—æ®µåŠå­—æ®µæ•°é‡éœ€è¦ä¿æŒä¸€è‡´ã€‚
union:è”åˆæŸ¥è¯¢ï¼Œä¼šå»é‡ã€‚
union all:è”åˆæŸ¥è¯¢ï¼ŒæŸ¥è¯¢çš„ç»“æœå¯èƒ½ä¼šå‡ºç°é‡å¤æ•°æ®ã€‚</p>

<pre><code class="language-mysql">select * from tbl_name ...
union
select * from tbl_name ...;
</code></pre>

<pre><code class="language-mysql"># å°†å¹´é¾„å°äº20æˆ–è€…å·¥èµ„å°äº5000çš„æ•°æ®å…¨éƒ¨æŸ¥å‡ºæ¥ã€‚
select * from tbl_name where age &gt; 20
union
select * from tbl_name where salary &lt;5000;
</code></pre>

<h2 id="å­æŸ¥è¯¢">å­æŸ¥è¯¢</h2>

<p>sqlè¯­å¥ä¸­åµŒå¥—selectè¯­å¥ï¼Œç§°ä¸ºåµŒå¥—æŸ¥è¯¢ï¼Œåˆç§°å­æŸ¥è¯¢</p>

<pre><code class="language-mysql">select * from tbl_name1 where field1 = (select field from tbl_name2);
</code></pre>

<p>é‡Œé¢æ˜¯selectè¯­å¥ï¼Œå¤–é¢å¯ä»¥æ˜¯select/insert/update/deleteä¸­çš„ä»»ä½•ä¸€ä¸ªã€‚
æ ¹æ®å­æŸ¥è¯¢çš„ç»“æœä¸åŒï¼Œåˆ†ä¸ºï¼š
æ ‡é‡å­æŸ¥è¯¢ï¼Œå­æŸ¥è¯¢ç»“æœä¸ºå•ä¸ªå€¼
åˆ—å­æŸ¥è¯¢ï¼Œå­æŸ¥è¯¢ç»“æœä¸ºä¸€åˆ—
è¡Œå­æŸ¥è¯¢ï¼Œå­æŸ¥è¯¢ç»“æœä¸ºä¸€è¡Œ
è¡¨å­æŸ¥è¯¢ï¼Œå­æŸ¥è¯¢ç»“æœä¸ºå¤šè¡Œå¤šåˆ—ã€‚</p>

<p>æ ¹æ®å­æŸ¥è¯¢ä½ç½®ï¼Œåˆ†ä¸ºwhereä¹‹åï¼Œfromä¹‹åï¼Œselectä¹‹åã€‚</p>

<h3 id="æ ‡é‡å­æŸ¥è¯¢">æ ‡é‡å­æŸ¥è¯¢</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>æ ‡é‡å­æŸ¥è¯¢
	å­æŸ¥è¯¢è¿”å›çš„ç»“æœæ˜¯å•ä¸ªå€¼ï¼ˆæ•°å­—ã€å­—ç¬¦ä¸²ã€æ—¥æœŸï¼‰
	å¸¸ç”¨çš„æ“ä½œç¬¦ä¸º	= /&lt;&gt; /&gt; /&gt;=	/&lt;	/&lt;=
</code></pre></div></div>

<pre><code class="language-mysql">#	å‘˜å·¥ä¿¡æ¯è¡¨emp
# éƒ¨é—¨è¡¨dept
# 1å¯¹å¤šã€‚ä¸€ä¸ªå‘˜å·¥åªå±äºä¸€ä¸ªéƒ¨é—¨ï¼Œä¸€ä¸ªéƒ¨é—¨å¯ä»¥æœ‰å¤šä¸ªå‘˜å·¥ã€‚å‘˜å·¥ä¿¡æ¯è¡¨ä¸ºå­è¡¨ï¼Œéƒ¨é—¨è¡¨ä¸ºçˆ¶è¡¨ã€‚
# å­è¡¨ï¼ˆå‘˜å·¥ä¿¡æ¯è¡¨ï¼‰ä¸­ï¼Œdept_idä¸ºå‘˜å·¥ä¿¡æ¯è¡¨çš„å¤–é”®å­—æ®µã€‚
</code></pre>

<pre><code class="language-mysql">#	éœ€æ±‚ï¼šæŸ¥è¯¢é”€å”®éƒ¨çš„æ‰€æœ‰å‘˜å·¥ä¿¡æ¯
# åˆ†æï¼šå…ˆåœ¨éƒ¨é—¨è¡¨ä¸­æ‰¾åˆ°é”€å”®éƒ¨çš„idï¼Œç„¶ååœ¨å‘˜å·¥ä¿¡æ¯è¡¨ä¸­æŸ¥è¯¢dept_idä¸ºé”€å”®éƒ¨idçš„æ•°æ®ã€‚

select * from emp where dept_id = (select id from dept where dept_name = "é”€å”®éƒ¨");
</code></pre>

<h3 id="åˆ—å­æŸ¥è¯¢">åˆ—å­æŸ¥è¯¢</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>åˆ—å­æŸ¥è¯¢
	å¸¸ç”¨çš„æ“ä½œç¬¦	in	/not in	/any	some	/all
	in	åœ¨æŒ‡å®šçš„é›†åˆèŒƒå›´ä¹‹å†…ï¼Œå¤šé€‰1
	not in	ä¸åœ¨æŒ‡å®šé›†åˆèŒƒå›´ä¹‹å†…
	any	åœ¨æŒ‡å®šçš„é›†åˆèŒƒå›´å†…ï¼Œæœ‰ä»»æ„ä¸€ä¸ªæ»¡è¶³å³å¯
	some	åŒany
	all	å­æŸ¥è¯¢è¿”å›åˆ—è¡¨çš„æ‰€æœ‰å€¼éƒ½å¿…é¡»æ»¡è¶³
</code></pre></div></div>

<pre><code class="language-mysql"># éœ€æ±‚ï¼šæŸ¥è¯¢é”€å”®éƒ¨å’Œå¸‚åœºéƒ¨çš„æ‰€æœ‰å‘˜å·¥ä¿¡æ¯
#	åˆ†æï¼šåœ¨éƒ¨é—¨è¡¨ä¸­æŸ¥è¯¢é”€å”®éƒ¨å’Œå¸‚åœºéƒ¨çš„idï¼Œç„¶ååœ¨å‘˜å·¥ä¿¡æ¯è¡¨ä¸­æŸ¥è¯¢dept_idä¸ºé”€å”®éƒ¨idæˆ–å¸‚åœºéƒ¨idçš„æ•°æ®ã€‚

select * from emp where dept_id in (select id from dept where dept_name in ("é”€å”®éƒ¨", "å¸‚åœºéƒ¨"));
</code></pre>

<pre><code class="language-mysql"># éœ€æ±‚ï¼šæŸ¥è¯¢æ¯”è´¢åŠ¡éƒ¨æ‰€æœ‰äººå·¥èµ„éƒ½é«˜çš„å‘˜å·¥ä¿¡æ¯
#	åˆ†æï¼šåœ¨éƒ¨é—¨è¡¨ä¸­æŸ¥è¯¢è´¢åŠ¡éƒ¨idï¼Œåœ¨å‘˜å·¥ä¿¡æ¯è¡¨ä¸­æŸ¥è¯¢è´¢åŠ¡äººå‘˜å·¥èµ„ï¼Œåœ¨å‘˜å·¥ä¿¡æ¯è¡¨ä¸­æŸ¥è¯¢æ¯”è´¢åŠ¡äººå‘˜å·¥èµ„éƒ½é«˜çš„å‘˜å·¥

select * from emp where salary &gt; all(select salary from emp where dept_id = (select id from dept where dept_name = "è´¢åŠ¡éƒ¨"));
</code></pre>

<h3 id="è¡Œå­æŸ¥è¯¢">è¡Œå­æŸ¥è¯¢</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>è¡Œå­æŸ¥è¯¢
	å¸¸ç”¨æ“ä½œç¬¦	=	/&lt;&gt;	/in	/not in
</code></pre></div></div>

<pre><code class="language-mysql"># éœ€æ±‚ï¼šæŸ¥è¯¢ä¸å¼ ä¸‰çš„å·¥èµ„å’Œç›´å±é¢†å¯¼éƒ½ç›¸åŒçš„å‘˜å·¥ä¿¡æ¯
# åˆ†æï¼šåœ¨å‘˜å·¥ä¿¡æ¯è¡¨ä¸­æŸ¥è¯¢å¼ ä¸‰çš„å·¥èµ„å’Œç›´å±é¢†å¯¼ï¼Œåœ¨å‘˜å·¥ä¿¡æ¯è¡¨ä¸­æŸ¥è¯¢å·¥èµ„å’Œç›´å±é¢†å¯¼éƒ½å’Œå¼ ä¸‰çš„å·¥èµ„å’Œç›´å±é¢†å¯¼ç›¸åŒçš„å‘˜å·¥ä¿¡æ¯

select * from emp where (salary, manageid) = (select salary, manageid from emp where name = 'å¼ ä¸‰');
</code></pre>

<h3 id="è¡¨å­æŸ¥è¯¢">è¡¨å­æŸ¥è¯¢</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>è¡¨å­æŸ¥è¯¢
	å¸¸ç”¨æ“ä½œç¬¦	in
</code></pre></div></div>

<pre><code class="language-mysql"># éœ€æ±‚ï¼šæŸ¥è¯¢å…¥èŒæ—¥æœŸæ˜¯"2006-01-01"ä¹‹åçš„å‘˜å·¥ä¿¡æ¯åŠå¯¹åº”çš„éƒ¨é—¨ä¿¡æ¯
# åˆ†æï¼š
# è¡¨ç»“æ„:å‘˜å·¥è¡¨empã€éƒ¨é—¨ä¿¡æ¯dept
# å·¦å¤–è¿æ¥ï¼šå°†å‘˜å·¥è¡¨å’Œéƒ¨é—¨è¡¨è¿æ¥èµ·æ¥
# è¿æ¥æ¡ä»¶: emp.dept_id = dept.id
# æŸ¥è¯¢æ¡ä»¶: emp.enetydate&gt;â€œ2006-01-01â€
# æŸ¥è¯¢ç»“æœ: emp.*, dept.name
select e.*, d.name from emp e left outer join dept d on e.dept_id = d.id  where e.entrydate&gt;"2006-01-01";
</code></pre>

<h1 id="äº‹åŠ¡">äº‹åŠ¡</h1>

<p>äº‹åŠ¡æ˜¯ä¸€ç»„æ“ä½œçš„é›†åˆï¼Œå®ƒæ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„å·¥ä½œå•ä½ï¼Œäº‹åŠ¡ä¼šæŠŠæ‰€æœ‰çš„æ“ä½œä½œä¸ºä¸€ä¸ªæ•´ä½“ä¸€èµ·å‘ç³»ç»Ÿæäº¤æˆ–æ’¤é”€æ“ä½œè¯·æ±‚ï¼Œè¿™äº›æ“ä½œè¦ä¹ˆåŒæ—¶æˆåŠŸï¼Œè¦ä¹ˆåŒæ—¶å¤±è´¥ã€‚</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># éœ€æ±‚: é“¶è¡Œè½¬è´¦ä¸šåŠ¡,aç»™bè½¬100å…ƒ

# å¼€å¯äº‹åŠ¡

# æŸ¥è¯¢açš„ä½™é¢
# aå‡å°‘100
# bå¢åŠ 100

# æäº¤äº‹åŠ¡
</code></pre></div></div>

<p><strong>mysqlçš„äº‹åŠ¡é»˜è®¤æ˜¯è‡ªåŠ¨æäº¤çš„ï¼Œå½“æ‰§è¡Œä¸€æ¡DMLè¯­å¥æ—¶ï¼Œmysqlä¼šç«‹å³éšå¼çš„æäº¤äº‹åŠ¡ã€‚</strong>
å¼€å¯äº‹åŠ¡æ˜¯éœ€è¦æ‰‹åŠ¨å¼€å¯çš„ã€‚å¦‚æœäº‹åŠ¡æ‰§è¡Œå¤±è´¥ï¼Œéœ€è¦æ‰‹åŠ¨å›æ»šã€‚</p>

<h2 id="äº‹åŠ¡æ“ä½œ">äº‹åŠ¡æ“ä½œ</h2>

<p>æœ‰ä¸¤ç§äº‹åŠ¡æ“ä½œæ–¹å¼ï¼Œç¬¬ä¸€ç§æ˜¯è®¾ç½®äº‹åŠ¡æäº¤æ–¹å¼ä¸ºæ‰‹åŠ¨æäº¤ï¼Œæ‰§è¡ŒDMLè¯­å¥ä¹‹åï¼Œæ‰§è¡Œcommitæ‰‹åŠ¨æäº¤ï¼›ç¬¬äºŒç§æ˜¯è®¾ç½®æ‰‹åŠ¨å¼€å¯äº‹åŠ¡ï¼Œ</p>

<p>æŸ¥çœ‹/è®¾ç½®äº‹åŠ¡æäº¤çš„æ–¹å¼ã€‚å¦‚æœäº‹åŠ¡æäº¤æ–¹å¼ä¸ºæ‰‹åŠ¨ï¼Œåˆ™æ‰§è¡ŒDMLè¯­å¥ä¹‹åï¼Œä¸å†ç«‹å³æäº¤äº‹åŠ¡ï¼Œè€Œæ˜¯ç­‰åˆ°æ‰§è¡Œcommitå‘½ä»¤æ‰ä¼šæäº¤äº‹åŠ¡ï¼Œå¦‚æœæ‰§è¡ŒDMLè¯­å¥å¤±è´¥ï¼Œéœ€è¦é€šè¿‡å‘½ä»¤rollbackå›æ»šåˆ°ä¹‹å‰çš„çŠ¶æ€ã€‚</p>

<pre><code class="language-mysql"># æŸ¥çœ‹äº‹åŠ¡çš„æäº¤æ–¹å¼ï¼Œè¿”å›1è¡¨ç¤ºè‡ªåŠ¨æäº¤ï¼Œè¿”å›0è¡¨ç¤ºæ‰‹åŠ¨æäº¤ã€‚@@autocoommitæ˜¯ç³»ç»Ÿå˜é‡
select @@autocommit;

# è®¾ç½®äº‹åŠ¡çš„æäº¤æ–¹å¼ä¸ºæ‰‹åŠ¨
set @@autocommit = 0; 

# æ‰§è¡Œäº‹åŠ¡ï¼šä¸€ç»„sqlè¯­å¥

# äº‹åŠ¡æ‰§è¡ŒæˆåŠŸï¼Œæ‰‹åŠ¨æäº¤äº‹åŠ¡
commit;

# äº‹åŠ¡æ‰§è¡Œå¤±è´¥ï¼Œæ‰‹åŠ¨å›æ»š
rollback;
</code></pre>

<pre><code class="language-mysql"># éœ€æ±‚ï¼šé“¶è¡Œè½¬è´¦ä¸šåŠ¡,aç»™bè½¬100å…ƒ

# 1. è®¾ç½®äº‹åŠ¡æäº¤æ–¹å¼ä¸ºæ‰‹åŠ¨æäº¤
set @@autocommit = 0;

# 2. æŸ¥è¯¢ç”¨æˆ·açš„ä½™é¢
select money from tbl_name where name = "userA";
# 3. ä¿®æ”¹ç”¨æˆ·açš„ä½™é¢
update table tbl_name set money = money -100 where name = 'userA';
# 4. ä¿®æ”¹ç”¨æˆ·bçš„ä½™é¢
update table tbl_name set money = money +100 where name = 'userB';

# 5. å¦‚æœ2\3\4æ‰§è¡ŒæˆåŠŸï¼Œcommit æäº¤äº‹åŠ¡ï¼Œå¦‚æœæ‰§è¡Œå¤±è´¥ï¼Œrollbackå›æ»šäº‹åŠ¡ã€‚
commit; 
</code></pre>

<p>æ‰‹åŠ¨å¼€å¯äº‹åŠ¡</p>

<pre><code class="language-mysql"># å¼€å¯äº‹åŠ¡
start transaction;
# æ‰§è¡Œäº‹åŠ¡ï¼šä¸€ç»„sqlè¯­å¥
...
...
# äº‹åŠ¡æ‰§è¡ŒæˆåŠŸï¼Œæäº¤äº‹åŠ¡
commit;
# äº‹åŠ¡æ‰§è¡Œå¤±è´¥ï¼Œå›æ»šäº‹åŠ¡
rollback;
</code></pre>

<h2 id="äº‹åŠ¡ç‰¹æ€§acid">äº‹åŠ¡ç‰¹æ€§ACID</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>åŸå­æ€§ï¼šatomicityï¼Œäº‹åŠ¡æ˜¯ä¸å¯åˆ†å‰²çš„æœ€å°æ“ä½œå•å…ƒï¼Œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ã€‚
ä¸€è‡´æ€§ï¼šconsistencyï¼Œäº‹åŠ¡å®Œæˆæ—¶ï¼Œå¿…é¡»ä½¿æ‰€æœ‰çš„æ•°æ®éƒ½ä¿æŒä¸€è‡´çŠ¶æ€ã€‚
éš”ç¦»æ€§ï¼šisolationï¼Œæ•°æ®åº“ç³»ç»Ÿæä¾›çš„éš”ç¦»æœºåˆ¶ï¼Œä¿è¯äº‹åŠ¡åœ¨ä¸å—å¤–éƒ¨å¹¶å‘æ“ä½œå½±å“çš„ç‹¬ç«‹ç¯å¢ƒä¸‹è¿è¡Œã€‚
æŒä¹…æ€§ï¼šdurabilityï¼Œäº‹åŠ¡ä¸€æ—¦æäº¤æˆ–å›æ»šï¼Œå®ƒå¯¹æ•°æ®åº“ä¸­çš„æ•°æ®çš„æ”¹å˜å°±æ˜¯æ°¸ä¹…çš„ã€‚
</code></pre></div></div>

<h2 id="å¹¶å‘äº‹åŠ¡é—®é¢˜">å¹¶å‘äº‹åŠ¡é—®é¢˜</h2>

<p>å¹¶å‘äº‹åŠ¡å‡ºç°çš„åœºæ™¯ï¼Œä¸»è¦é’ˆå¯¹å¤šä¸ªå®¢æˆ·ç«¯è¿æ¥mysqlæœåŠ¡ï¼Œå¹¶ä¸”åœ¨ä¸åŒå®¢æˆ·ç«¯ä¸Šæ‰§è¡Œä¸åŒçš„äº‹åŠ¡ã€‚</p>

<table>
  <thead>
    <tr>
      <th>é—®é¢˜</th>
      <th>æè¿°</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>è„è¯»</td>
      <td>ä¸€ä¸ªäº‹åŠ¡è¯»åˆ°å¦å¤–ä¸€ä¸ªäº‹åŠ¡è¿˜æ²¡æœ‰æäº¤çš„æ•°æ®ã€‚</td>
    </tr>
    <tr>
      <td>ä¸å¯é‡å¤è¯»</td>
      <td>ä¸€ä¸ªäº‹åŠ¡å…ˆåè¯»å–åŒä¸€æ¡è®°å½•ï¼Œä½†ä¸¤æ¬¡è¯»å–çš„æ•°æ®ä¸åŒï¼Œç§°ä¸ºä¸å¯é‡å¤è¯»ã€‚</td>
    </tr>
    <tr>
      <td>å¹»è¯»</td>
      <td>ä¸€ä¸ªäº‹åŠ¡æŒ‰ç…§æ¡ä»¶æŸ¥è¯¢æ•°æ®æ—¶ï¼Œæ²¡æœ‰å¯¹åº”çš„æ•°æ®è¡Œï¼Œä½†åœ¨æ’å…¥æ•°æ®æ—¶ï¼Œåˆå‘ç°è¿™è¡Œæ•°æ®å·²ç»å­˜åœ¨ï¼Œå¥½åƒå‡ºç°äº†â€œå¹»å½±â€</td>
    </tr>
  </tbody>
</table>

<h2 id="äº‹åŠ¡éš”ç¦»çº§åˆ«">äº‹åŠ¡éš”ç¦»çº§åˆ«</h2>

<p>ä¸åŒçš„éš”ç¦»çº§åˆ«ï¼Œå‡ºç°å¹¶å‘äº‹åŠ¡é—®é¢˜çš„ç°è±¡ä¸åŒï¼Œä¸‹è¡¨ä¸­âœ…è¡¨ç¤ºä¼šå‡ºç°å¯¹åº”ç°è±¡ï¼Œâè¡¨ç¤ºä¸ä¼šå‡ºç°å¯¹åº”ç°è±¡ã€‚
äº‹åŠ¡éš”ç¦»çº§åˆ«æ˜¯ä¸ºäº†è§£å†³å¹¶å‘äº‹åŠ¡é—®é¢˜ã€‚</p>

<table>
  <thead>
    <tr>
      <th>éš”ç¦»çº§åˆ«</th>
      <th>è„è¯»</th>
      <th>ä¸å¯é‡å¤è¯»</th>
      <th>å¹»è¯»</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>read uncommitted</td>
      <td>âœ…</td>
      <td>âœ…</td>
      <td>âœ…</td>
    </tr>
    <tr>
      <td>read committed(oracleé»˜è®¤)</td>
      <td>â</td>
      <td>âœ…</td>
      <td>âœ…</td>
    </tr>
    <tr>
      <td>repeatable read(mysql é»˜è®¤)</td>
      <td>â</td>
      <td>â</td>
      <td>âœ…</td>
    </tr>
    <tr>
      <td>serializeable</td>
      <td>â</td>
      <td>â</td>
      <td>â</td>
    </tr>
  </tbody>
</table>

<pre><code class="language-mysql"># æŸ¥çœ‹äº‹åŠ¡éš”ç¦»çº§åˆ«
select @@transaction_isolation;

# ä¿®æ”¹äº‹åŠ¡éš”ç¦»çº§åˆ«
set [session | global] transaction isolation level [read uncommitted | read committed | repeatable read | serializable]
</code></pre>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># å®¢æˆ·ç«¯1ç™»å½•</span>
<span class="nv">$ </span>mysql <span class="nt">-u</span> root <span class="nt">-p</span>
<span class="nv">$ </span>Enter password: <span class="k">*****</span>
<span class="c"># é€‰æ‹©æ•°æ®åº“itcast</span>
mysql <span class="o">&gt;</span> use itcast<span class="p">;</span>
<span class="c"># æŸ¥çœ‹accountè¡¨</span>
mysql <span class="o">&gt;</span> <span class="k">select</span> <span class="k">*</span> from account<span class="p">;</span>
</code></pre></div></div>

<h1 id="mysqlä½“ç³»ç»“æ„">mysqlä½“ç³»ç»“æ„</h1>

<p><strong>mysqlå®¢æˆ·ç«¯ä½“ç³»ç»“æ„</strong>
å®¢æˆ·ç«¯è¿æ¥å™¨ï¼šNative C APIã€JDBCã€ODBCã€.NETã€PHPã€Perlã€Pythonã€Rubyã€Cobol
å®¢æˆ·ç«¯è¿æ¥å™¨ç”¨äºè¿æ¥mysqlæœåŠ¡å™¨
<strong>mysqlæœåŠ¡ç«¯ä½“ç³»ç»“æ„</strong>
è¿æ¥å±‚ï¼šç¬¬ä¸€å±‚ã€‚å’Œå®¢æˆ·ç«¯è¿›è¡Œè¿æ¥ã€‚ä¸»è¦å®Œæˆè¿æ¥å¤„ç†ã€æˆæƒè®¤è¯ã€å®‰å…¨ç­‰ã€‚æœåŠ¡å™¨ä¼šä¸ºæ¥å…¥çš„å®¢æˆ·ç«¯éªŒè¯å®ƒå…·æœ‰çš„æ“ä½œæƒé™ã€‚
æœåŠ¡å±‚ï¼šç¬¬äºŒå±‚ã€‚å®Œæˆæ ¸å¿ƒæœåŠ¡åŠŸèƒ½ï¼Œå¦‚sqlæ¥å£ã€ç¼“å­˜çš„æŸ¥è¯¢ã€sqlçš„åˆ†æå’Œä¼˜åŒ–ã€éƒ¨åˆ†å†…ç½®å‡½æ•°çš„æ‰§è¡Œã€è·¨å­˜å‚¨å¼•æ“åŠŸèƒ½ã€‚
å¼•æ“å±‚ï¼šå­˜å‚¨å¼•æ“çœŸæ­£çš„è´Ÿè´£äº†mysqlä¸­æ•°æ®çš„å­˜å‚¨å’Œæå–ï¼ŒæœåŠ¡å™¨é€šè¿‡apiå’Œå­˜å‚¨å¼•æ“è¿›è¡Œé€šä¿¡ã€‚ä¸åŒå­˜å‚¨å¼•æ“å…·æœ‰ä¸åŒåŠŸèƒ½ï¼Œå¯ä»¥æ ¹æ®				éœ€è¦é€‰æ‹©åˆé€‚çš„å­˜å‚¨å¼•æ“ã€‚
å­˜å‚¨å±‚ï¼šå°†æ•°æ®å­˜å‚¨åœ¨æ–‡ä»¶ç³»ç»Ÿä¸Šï¼Œå®Œæˆä¸å­˜å‚¨å¼•æ“çš„äº¤äº’ã€‚</p>

<h1 id="å­˜å‚¨å¼•æ“">å­˜å‚¨å¼•æ“</h1>

<p>å­˜å‚¨å¼•æ“å°±æ˜¯å­˜å‚¨æ•°æ®ã€å»ºç«‹ç´¢å¼•ã€æ›´æ–°/æŸ¥è¯¢æ•°æ®ç­‰æŠ€æœ¯çš„å®ç°æ–¹å¼ã€‚å­˜å‚¨å¼•æ“æ˜¯åŸºäºè¡¨çš„ï¼Œè€Œä¸æ˜¯åŸºäºåº“çš„ï¼Œæ‰€ä»¥å­˜å‚¨å¼•æ“ä¹Ÿè¢«ç§°ä¸ºè¡¨ç±»å‹ã€‚åŒä¸€ä¸ªæ•°æ®åº“ä¸‹çš„ä¸åŒè¡¨ï¼Œå¯ä»¥é€‰æ‹©ä¸åŒçš„å­˜å‚¨å¼•æ“ã€‚</p>

<h2 id="åŸºæœ¬æ“ä½œ">åŸºæœ¬æ“ä½œ</h2>

<pre><code class="language-mysql"># åˆ›å»ºè¡¨æ—¶æŒ‡å®šå­˜å‚¨å¼•æ“
create table account (
	id int primary key auto_increment,
  name varchar(10) not null,
  memory float not null default 0
) engine=innodb comment "è´¦æˆ·è¡¨";

# æŸ¥çœ‹è¡¨é‡‡ç”¨çš„å­˜å‚¨å¼•æ“ï¼šé€šè¿‡æŸ¥çœ‹å»ºè¡¨è¯­å¥æ–¹å¼
show create table account;

# æŸ¥çœ‹mysqlæ‰€æ”¯æŒçš„å­˜å‚¨å¼•æ“
show engines;
</code></pre>

<p>å­˜å‚¨å¼•æ“ç‰¹ç‚¹</p>

<p>ä¸»è¦ä»‹ç»innodb
innodbå…¼é¡¾é«˜å¯é æ€§å’Œé«˜æ€§èƒ½çš„é€šç”¨å­˜å‚¨å¼•æ“ï¼Œåœ¨mysql5.5ä¹‹åï¼Œinnodbä¸ºé»˜è®¤mysqlå¼•æ“ã€‚
ç‰¹ç‚¹</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>DMLæ“ä½œéµå¾ªACIDæ¨¡å‹ï¼Œæ”¯æŒäº‹åŠ¡;
è¡Œçº§é”ï¼Œæé«˜å¹¶å‘è®¿é—®æ€§èƒ½;
æ”¯æŒå¤–é”®çº¦æŸï¼Œä¿è¯æ•°æ®çš„å®Œæ•´æ€§å’Œæ­£ç¡®æ€§;
</code></pre></div></div>

<p>ç£ç›˜æ–‡ä»¶
xxx.ibd: xxxä»£è¡¨çš„æ˜¯è¡¨åï¼Œinnodbå¼•æ“çš„æ¯å¼ è¡¨éƒ½ä¼šå¯¹åº”è¿™æ ·ä¸€ä¸ªè¡¨ç©ºé—´æ–‡ä»¶ï¼Œå­˜å‚¨è¯¥è¡¨çš„è¡¨ç»“æ„(frmã€sdi)ã€æ•°æ®å’Œç´¢å¼•ã€‚
é€»è¾‘å­˜å‚¨ç»“æ„
tablespace:è¡¨ç©ºé—´
segmentï¼šæ®µ
extentï¼šåŒº
pageï¼šé¡µ
rowï¼šè¡Œ</p>
:ET